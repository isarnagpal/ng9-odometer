{"version":3,"file":"ng9-odometer.umd.js","sources":["ng://ng9-odometer/lib/odometer.config.ts","ng://ng9-odometer/lib/ng9-odometer.component.ts","ng://ng9-odometer/lib/ng9-odometer.module.ts"],"sourcesContent":["/**\r\n * Created by Jose Andres on 6.15.17\r\n */\r\nexport interface Ng9OdometerConfigModel {\r\n    animation?: string;\r\n    format?: string;\r\n    theme?: string;\r\n    value?: number;\r\n    duration?: number;\r\n    auto?: boolean;\r\n}\r\n\r\nexport class Ng9OdometerConfig implements Ng9OdometerConfigModel {\r\n    animation ? = 'slide';\r\n    format = '(,ddd)';\r\n    theme ? = 'default';\r\n    value ? = 0;\r\n    duration ? = 2000;\r\n    auto ? = true;\r\n}\r\n","// tslint:disable-next-line: no-reference\r\n///<reference path=\"odometer.d.ts\" />\r\n\r\n/**\r\n * Created by Jose Andres on 6.15.17\r\n */\r\n\r\nimport * as _ from 'lodash';\r\nimport { Component, ViewEncapsulation, Input, OnInit, OnDestroy, OnChanges, AfterViewInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { Subscription } from 'rxjs';\r\nimport { OdometerModel } from './odometer.model';\r\nimport { Ng9OdometerConfig, Ng9OdometerConfigModel } from './odometer.config';\r\n\r\n// HubSpot's Oodometer\r\n// https://github.com/HubSpot/odometer\r\nconst Odometer = require('odometer');\r\n\r\n@Component({\r\n    selector: 'ng9-odometer',\r\n    encapsulation: ViewEncapsulation.None,\r\n    styleUrls: [\r\n        'themes/CAR_THEME.css',\r\n        'themes/DEFAULT_THEME.css',\r\n        'themes/DIGITAL_THEME.css',\r\n        'themes/MINIMAL_THEME.css',\r\n        'themes/PLAZA_THEME.css',\r\n        'themes/SLOT_MACHINE_THEME.css',\r\n        'themes/TRAIN_STATION_THEME.css',\r\n        'ng9-odometer.component.css'\r\n    ],\r\n    template: `<div #container></div>`\r\n})\r\nexport class Ng9OdometerComponent implements OnInit, OnDestroy, OnChanges, AfterViewInit {\r\n    private subscription: Subscription;\r\n    private odometer: OdometerModel;\r\n    @ViewChild('container', { read: ElementRef }) container: ElementRef;\r\n    @Input() number: number; // Required\r\n    @Input() config: Ng9OdometerConfigModel = {};\r\n    @Input() observable: Observable<boolean> = undefined;\r\n\r\n    // Individual configuration attributes\r\n    @Input() animation: string = undefined;\r\n    @Input() format: string = undefined;\r\n    @Input() theme: string = undefined;\r\n    @Input() value: number = undefined;\r\n    @Input() duration: number = undefined;\r\n    @Input() auto: boolean = undefined;\r\n\r\n    // Available themes\r\n    private themes: Array<string> = [\r\n        'car',\r\n        'default',\r\n        'digital',\r\n        'minimal',\r\n        'plaza',\r\n        'slot-machine',\r\n        'train-station'\r\n    ];\r\n\r\n    // Start Odometer\r\n    private initOdometer() {\r\n        if (!_.isUndefined(this.container)\r\n            && typeof Odometer !== 'undefined') {\r\n\r\n            this.odometer = new Odometer({\r\n                el: this.container.nativeElement,\r\n                animation: this.config.animation,\r\n                value: this.config.value,\r\n                duration: this.config.duration,\r\n                format: this.config.format,\r\n                theme: this.config.theme,\r\n            });\r\n\r\n            if (!_.isUndefined(this.number) && this.config.auto) {\r\n                this.odometer.update(this.number);\r\n            }\r\n        }\r\n    }\r\n\r\n    private initConfig() {\r\n        this.config = _.defaults(this.config, new Ng9OdometerConfig());\r\n\r\n        // Animation\r\n        if (!_.isUndefined(this.animation)) {\r\n            this.config.animation = this.animation;\r\n        }\r\n\r\n        // Format\r\n        if (!_.isUndefined(this.format)) {\r\n            this.config.format = this.format;\r\n        }\r\n\r\n        // Theme\r\n        if (!_.isUndefined(this.theme)) {\r\n            this.config.theme = !_.includes(this.themes, this.theme) ? 'default' : this.theme;\r\n        }\r\n\r\n        // Value\r\n        if (!_.isUndefined(this.value)) {\r\n            this.config.value = this.value;\r\n        }\r\n\r\n        // Duration\r\n        if (!_.isUndefined(this.duration)) {\r\n            this.config.duration = this.duration;\r\n        }\r\n\r\n        // Auto\r\n        if (!_.isUndefined(this.auto)) {\r\n            this.config.auto = this.auto;\r\n        }\r\n\r\n        // Validate theme. If not part of the\r\n        // available themes array, use the default\r\n        if (!_.includes(this.themes, this.config.theme)) {\r\n            this.config.theme = 'default';\r\n        }\r\n    }\r\n\r\n    // ***************************************\r\n    //  LIFECYCLES\r\n    // ***************************************\r\n\r\n    public ngOnInit() {\r\n\r\n        // Bind Observable\r\n        if (!_.isUndefined(this.observable) && !this.config.auto) {\r\n            this.subscription = this.observable.subscribe((trigger: boolean) => {\r\n                if (!_.isUndefined(trigger) && trigger) {\r\n                    this.odometer.update(this.number);\r\n                }\r\n            });\r\n        }\r\n\r\n        // Apply defaults and\r\n        // individual configurations\r\n        this.initConfig();\r\n    }\r\n\r\n    public ngOnDestroy() {\r\n        if (!_.isUndefined(this.subscription)) {\r\n            this.subscription.unsubscribe();\r\n        }\r\n    }\r\n\r\n    public ngOnChanges() {\r\n        if (!_.isUndefined(this.number) && !_.isUndefined(this.odometer) && this.config.auto) {\r\n            this.odometer.update(this.number);\r\n        }\r\n    }\r\n\r\n    public ngAfterViewInit() {\r\n        this.initOdometer();\r\n    }\r\n}\r\n","/**\r\n * Created by Jose Andres on 02.23.17\r\n */\r\n\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Ng9OdometerComponent } from './ng9-odometer.component';\r\n\r\n@NgModule({\r\n    imports: [CommonModule],\r\n    declarations: [Ng9OdometerComponent],\r\n    exports: [Ng9OdometerComponent]\r\n})\r\nexport class Ng9OdometerModule {\r\n    static forRoot(): ModuleWithProviders<Ng9OdometerModule> {\r\n        return {\r\n            ngModule: Ng9OdometerModule\r\n        };\r\n    }\r\n}\r\n"],"names":["_.isUndefined","_.defaults","_.includes","ElementRef","i0.ɵɵelement","Component","ViewEncapsulation","ViewChild","Input","CommonModule","NgModule"],"mappings":"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"}