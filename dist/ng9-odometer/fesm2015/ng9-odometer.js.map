{"version":3,"file":"ng9-odometer.js","sources":["ng://ng9-odometer/lib/odometer.config.ts","ng://ng9-odometer/lib/ng9-odometer.component.ts","ng://ng9-odometer/lib/ng9-odometer.module.ts","ng://ng9-odometer/public-api.ts","ng://ng9-odometer/ng9-odometer.ts"],"sourcesContent":["/**\r\n * Created by Jose Andres on 6.15.17\r\n */\r\nexport interface Ng9OdometerConfigModel {\r\n    animation?: string;\r\n    format?: string;\r\n    theme?: string;\r\n    value?: number;\r\n    duration?: number;\r\n    auto?: boolean;\r\n}\r\n\r\nexport class Ng9OdometerConfig implements Ng9OdometerConfigModel {\r\n    animation ? = 'slide';\r\n    format = '(,ddd)';\r\n    theme ? = 'default';\r\n    value ? = 0;\r\n    duration ? = 2000;\r\n    auto ? = true;\r\n}\r\n","// tslint:disable-next-line: no-reference\r\n///<reference path=\"odometer.d.ts\" />\r\n\r\n/**\r\n * Created by Jose Andres on 6.15.17\r\n */\r\n\r\nimport * as _ from 'lodash';\r\nimport { Component, ViewEncapsulation, Input, OnInit, OnDestroy, OnChanges, AfterViewInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { Subscription } from 'rxjs';\r\nimport { OdometerModel } from './odometer.model';\r\nimport { Ng9OdometerConfig, Ng9OdometerConfigModel } from './odometer.config';\r\n\r\n// HubSpot's Oodometer\r\n// https://github.com/HubSpot/odometer\r\nconst Odometer = require('odometer');\r\n\r\n@Component({\r\n    selector: 'ng9-odometer',\r\n    encapsulation: ViewEncapsulation.None,\r\n    styleUrls: [\r\n        'themes/CAR_THEME.css',\r\n        'themes/DEFAULT_THEME.css',\r\n        'themes/DIGITAL_THEME.css',\r\n        'themes/MINIMAL_THEME.css',\r\n        'themes/PLAZA_THEME.css',\r\n        'themes/SLOT_MACHINE_THEME.css',\r\n        'themes/TRAIN_STATION_THEME.css',\r\n        'ng9-odometer.component.css'\r\n    ],\r\n    template: `<div #container></div>`\r\n})\r\nexport class Ng9OdometerComponent implements OnInit, OnDestroy, OnChanges, AfterViewInit {\r\n    private subscription: Subscription;\r\n    private odometer: OdometerModel;\r\n    @ViewChild('container', { read: ElementRef }) container: ElementRef;\r\n    @Input() number: number; // Required\r\n    @Input() config: Ng9OdometerConfigModel = {};\r\n    @Input() observable: Observable<boolean> = undefined;\r\n\r\n    // Individual configuration attributes\r\n    @Input() animation: string = undefined;\r\n    @Input() format: string = undefined;\r\n    @Input() theme: string = undefined;\r\n    @Input() value: number = undefined;\r\n    @Input() duration: number = undefined;\r\n    @Input() auto: boolean = undefined;\r\n\r\n    // Available themes\r\n    private themes: Array<string> = [\r\n        'car',\r\n        'default',\r\n        'digital',\r\n        'minimal',\r\n        'plaza',\r\n        'slot-machine',\r\n        'train-station'\r\n    ];\r\n\r\n    // Start Odometer\r\n    private initOdometer() {\r\n        if (!_.isUndefined(this.container)\r\n            && typeof Odometer !== 'undefined') {\r\n\r\n            this.odometer = new Odometer({\r\n                el: this.container.nativeElement,\r\n                animation: this.config.animation,\r\n                value: this.config.value,\r\n                duration: this.config.duration,\r\n                format: this.config.format,\r\n                theme: this.config.theme,\r\n            });\r\n\r\n            if (!_.isUndefined(this.number) && this.config.auto) {\r\n                this.odometer.update(this.number);\r\n            }\r\n        }\r\n    }\r\n\r\n    private initConfig() {\r\n        this.config = _.defaults(this.config, new Ng9OdometerConfig());\r\n\r\n        // Animation\r\n        if (!_.isUndefined(this.animation)) {\r\n            this.config.animation = this.animation;\r\n        }\r\n\r\n        // Format\r\n        if (!_.isUndefined(this.format)) {\r\n            this.config.format = this.format;\r\n        }\r\n\r\n        // Theme\r\n        if (!_.isUndefined(this.theme)) {\r\n            this.config.theme = !_.includes(this.themes, this.theme) ? 'default' : this.theme;\r\n        }\r\n\r\n        // Value\r\n        if (!_.isUndefined(this.value)) {\r\n            this.config.value = this.value;\r\n        }\r\n\r\n        // Duration\r\n        if (!_.isUndefined(this.duration)) {\r\n            this.config.duration = this.duration;\r\n        }\r\n\r\n        // Auto\r\n        if (!_.isUndefined(this.auto)) {\r\n            this.config.auto = this.auto;\r\n        }\r\n\r\n        // Validate theme. If not part of the\r\n        // available themes array, use the default\r\n        if (!_.includes(this.themes, this.config.theme)) {\r\n            this.config.theme = 'default';\r\n        }\r\n    }\r\n\r\n    // ***************************************\r\n    //  LIFECYCLES\r\n    // ***************************************\r\n\r\n    public ngOnInit() {\r\n\r\n        // Bind Observable\r\n        if (!_.isUndefined(this.observable) && !this.config.auto) {\r\n            this.subscription = this.observable.subscribe((trigger: boolean) => {\r\n                if (!_.isUndefined(trigger) && trigger) {\r\n                    this.odometer.update(this.number);\r\n                }\r\n            });\r\n        }\r\n\r\n        // Apply defaults and\r\n        // individual configurations\r\n        this.initConfig();\r\n    }\r\n\r\n    public ngOnDestroy() {\r\n        if (!_.isUndefined(this.subscription)) {\r\n            this.subscription.unsubscribe();\r\n        }\r\n    }\r\n\r\n    public ngOnChanges() {\r\n        if (!_.isUndefined(this.number) && !_.isUndefined(this.odometer) && this.config.auto) {\r\n            this.odometer.update(this.number);\r\n        }\r\n    }\r\n\r\n    public ngAfterViewInit() {\r\n        this.initOdometer();\r\n    }\r\n}\r\n","/**\r\n * Created by Jose Andres on 02.23.17\r\n */\r\n\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Ng9OdometerComponent } from './ng9-odometer.component';\r\n\r\n@NgModule({\r\n    imports: [CommonModule],\r\n    declarations: [Ng9OdometerComponent],\r\n    exports: [Ng9OdometerComponent]\r\n})\r\nexport class Ng9OdometerModule {\r\n    static forRoot(): ModuleWithProviders<Ng9OdometerModule> {\r\n        return {\r\n            ngModule: Ng9OdometerModule\r\n        };\r\n    }\r\n}\r\n","/*\r\n * Public API Surface of ng9-odometer\r\n */\r\n\r\nexport * from './lib/ng9-odometer.component';\r\nexport * from './lib/ng9-odometer.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["_.isUndefined","_.defaults","_.includes","i0.ɵɵelement"],"mappings":"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"}